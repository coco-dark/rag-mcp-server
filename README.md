<<<<<<< HEAD
# rag-mcp-server
=======
# RAG MCP æœåŠ¡å™¨ä½¿ç”¨æŒ‡å—

## ä»€ä¹ˆæ˜¯ RAG MCP æœåŠ¡å™¨ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ªåŸºäº MCP (Model Context Protocol) çš„ RAG (Retrieval-Augmented Generation) æœåŠ¡å™¨ï¼Œå®ƒå…è®¸ AI åŠ©æ‰‹è®¿é—®å’Œç®¡ç†çŸ¥è¯†åº“ï¼Œè¿›è¡Œæ™ºèƒ½é—®ç­”å’Œæ–‡æ¡£æ£€ç´¢ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“š **æ–‡æ¡£ç®¡ç†**: æ·»åŠ ã€åˆ é™¤ã€æŸ¥è¯¢æ–‡æ¡£
- ğŸ” **æ™ºèƒ½æœç´¢**: åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦çš„æ–‡æ¡£æ£€ç´¢
- ğŸ’¬ **é—®ç­”ç³»ç»Ÿ**: æ ¹æ®çŸ¥è¯†åº“å†…å®¹å›ç­”é—®é¢˜
- ğŸ·ï¸ **å…ƒæ•°æ®æ”¯æŒ**: ä¸ºæ–‡æ¡£æ·»åŠ åˆ†ç±»ã€æ ‡ç­¾ç­‰å…ƒä¿¡æ¯
- ğŸ“Š **ç»Ÿè®¡åˆ†æ**: æŸ¥çœ‹çŸ¥è¯†åº“çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡å™¨

```bash
# åœ¨åå°å¯åŠ¨æœåŠ¡å™¨
python rag_server.py

# æˆ–è€…ç›´æ¥è¿è¡Œï¼ˆä¼šé˜»å¡ç»ˆç«¯ï¼‰
python rag_server.py
```

### 2. é…ç½® MCP å®¢æˆ·ç«¯

åœ¨æ”¯æŒ MCP çš„ AI å®¢æˆ·ç«¯ï¼ˆå¦‚ Claude Desktopï¼‰ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "mcpServers": {
    "rag-server": {
      "command": "python",
      "args": ["/path/to/your/rag-mcp-server/rag_server.py"],
      "env": {
        "PYTHONPATH": "/path/to/your/rag-mcp-server"
      }
    }
  }
}
```

### 3. ä½¿ç”¨ç¤ºä¾‹

å¯åŠ¨åï¼ŒAI åŠ©æ‰‹å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š

#### æ·»åŠ æ–‡æ¡£
```
add_document("æ–‡æ¡£å†…å®¹", {"category": "æŠ€æœ¯", "language": "ä¸­æ–‡"})
```

#### æœç´¢æ–‡æ¡£
```
search_documents("äººå·¥æ™ºèƒ½")
```

#### è·å–æ–‡æ¡£
```
get_document("doc_0")
```

#### åˆ—å‡ºæ‰€æœ‰æ–‡æ¡£
```
list_documents()
```

#### åˆ é™¤æ–‡æ¡£
```
delete_document("doc_0")
```

#### è·å–æœåŠ¡å™¨ä¿¡æ¯
```
get_server_info()
```

## é…ç½®é€‰é¡¹

æœåŠ¡å™¨æ”¯æŒä»¥ä¸‹é…ç½®ï¼š

- `max_results`: æœ€å¤§æœç´¢ç»“æœæ•°é‡ (é»˜è®¤: 5)
- `similarity_threshold`: ç›¸ä¼¼åº¦é˜ˆå€¼ (é»˜è®¤: 0.7)
- `supported_formats`: æ”¯æŒçš„æ–‡æ¡£æ ¼å¼
- `enable_logging`: æ˜¯å¦å¯ç”¨æ—¥å¿—è®°å½•

## æ”¯æŒçš„æ–‡æ¡£æ ¼å¼

- çº¯æ–‡æœ¬
- Markdown
- ç»“æ„åŒ–æ•°æ® (JSON)

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æœåŠ¡å™¨æ— æ³•å¯åŠ¨**
   - æ£€æŸ¥ Python ç¯å¢ƒ
   - ç¡®è®¤ä¾èµ–åŒ…å·²å®‰è£…
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—

2. **MCP è¿æ¥å¤±è´¥**
   - ç¡®è®¤æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
   - æ£€æŸ¥å®¢æˆ·ç«¯é…ç½®è·¯å¾„
   - éªŒè¯ Python è·¯å¾„è®¾ç½®

3. **æ–‡æ¡£æ·»åŠ å¤±è´¥**
   - æ£€æŸ¥æ–‡æ¡£å†…å®¹æ ¼å¼
   - ç¡®è®¤å…ƒæ•°æ®æ ¼å¼æ­£ç¡®
   - æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

### æ—¥å¿—æŸ¥çœ‹

æœåŠ¡å™¨è¿è¡Œæ—¶ä¼šè¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š
- æ–‡æ¡£æ“ä½œçŠ¶æ€
- æœç´¢è¯·æ±‚å¤„ç†
- é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯

## å¼€å‘è¯´æ˜

### é¡¹ç›®ç»“æ„

```
rag-mcp-server/
â”œâ”€â”€ rag_server.py          # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ rag_engine.py          # RAG æ ¸å¿ƒå¼•æ“
â”œâ”€â”€ mcp_client_config.json # MCP å®¢æˆ·ç«¯é…ç½®ç¤ºä¾‹
â”œâ”€â”€ requirements.txt       # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md             # ä½¿ç”¨è¯´æ˜
```

### æ‰©å±•åŠŸèƒ½

ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ `rag_engine.py` æ¥ï¼š
- æ·»åŠ æ–°çš„æ–‡æ¡£æ ¼å¼æ”¯æŒ
- è‡ªå®šä¹‰ç›¸ä¼¼åº¦ç®—æ³•
- é›†æˆå¤–éƒ¨æ•°æ®æº
- ä¼˜åŒ–æœç´¢æ€§èƒ½

## æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è¾“å‡º
2. æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼
3. ç¡®è®¤ç¯å¢ƒä¾èµ–
4. å‚è€ƒé”™è¯¯ä¿¡æ¯è¿›è¡Œæ’æŸ¥

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹å®ç°ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¯·è¿›è¡Œå……åˆ†æµ‹è¯•å’Œå®‰å…¨è¯„ä¼°ã€‚
>>>>>>> 84635d4 (first commit)
